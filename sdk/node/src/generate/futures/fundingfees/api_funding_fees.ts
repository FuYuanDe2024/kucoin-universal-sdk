// Code generated by Kucoin Universal SDK Generator; DO NOT EDIT.

import { Transport } from '@internal/interfaces/transport';
import { GetPublicFundingHistoryReq } from './model_get_public_funding_history_req';
import { GetPrivateFundingHistoryResp } from './model_get_private_funding_history_resp';
import { GetPublicFundingHistoryResp } from './model_get_public_funding_history_resp';
import { GetCurrentFundingRateResp } from './model_get_current_funding_rate_resp';
import { GetPrivateFundingHistoryReq } from './model_get_private_funding_history_req';
import { GetCurrentFundingRateReq } from './model_get_current_funding_rate_req';

export interface FundingFeesAPI {
    /**
     * getPublicFundingHistory Get Public Funding History
     * Description: Query the funding rate at each settlement time point within a certain time range of the corresponding contract
     * Documentation: https://www.kucoin.com/docs-new/api-3470266
     * +---------------------+---------+
     * | Extra API Info      | Value   |
     * +---------------------+---------+
     * | API-DOMAIN          | FUTURES |
     * | API-CHANNEL         | PRIVATE |
     * | API-PERMISSION      | FUTURES |
     * | API-RATE-LIMIT-POOL | PUBLIC  |
     * | API-RATE-LIMIT      | 5       |
     * +---------------------+---------+
     */
    getPublicFundingHistory(req: GetPublicFundingHistoryReq): Promise<GetPublicFundingHistoryResp>;

    /**
     * getPrivateFundingHistory Get Private Funding History
     * Description: Submit request to get the funding history.
     * Documentation: https://www.kucoin.com/docs-new/api-3470267
     * +---------------------+---------+
     * | Extra API Info      | Value   |
     * +---------------------+---------+
     * | API-DOMAIN          | FUTURES |
     * | API-CHANNEL         | PRIVATE |
     * | API-PERMISSION      | FUTURES |
     * | API-RATE-LIMIT-POOL | FUTURES |
     * | API-RATE-LIMIT      | 5       |
     * +---------------------+---------+
     */
    getPrivateFundingHistory(
        req: GetPrivateFundingHistoryReq,
    ): Promise<GetPrivateFundingHistoryResp>;

    /**
     * getCurrentFundingRate Get Current Funding Rate
     * Description: get Current Funding Rate
     * Documentation: https://www.kucoin.com/docs-new/api-3470265
     * +---------------------+---------+
     * | Extra API Info      | Value   |
     * +---------------------+---------+
     * | API-DOMAIN          | FUTURES |
     * | API-CHANNEL         | PRIVATE |
     * | API-PERMISSION      | FUTURES |
     * | API-RATE-LIMIT-POOL | PUBLIC  |
     * | API-RATE-LIMIT      | 2       |
     * +---------------------+---------+
     */
    getCurrentFundingRate(req: GetCurrentFundingRateReq): Promise<GetCurrentFundingRateResp>;
}

export class FundingFeesAPIImpl implements FundingFeesAPI {
    constructor(private transport: Transport) {}

    getPublicFundingHistory(req: GetPublicFundingHistoryReq): Promise<GetPublicFundingHistoryResp> {
        return this.transport.call(
            'futures',
            false,
            'GET',
            '/api/v1/contract/funding-rates',
            req,
            new GetPublicFundingHistoryResp(),
            false,
        );
    }

    getPrivateFundingHistory(
        req: GetPrivateFundingHistoryReq,
    ): Promise<GetPrivateFundingHistoryResp> {
        return this.transport.call(
            'futures',
            false,
            'GET',
            '/api/v1/funding-history',
            req,
            new GetPrivateFundingHistoryResp(),
            false,
        );
    }

    getCurrentFundingRate(req: GetCurrentFundingRateReq): Promise<GetCurrentFundingRateResp> {
        return this.transport.call(
            'futures',
            false,
            'GET',
            '/api/v1/funding-rate/{symbol}/current',
            req,
            new GetCurrentFundingRateResp(),
            false,
        );
    }
}
